{"version":3,"sources":["pageResponse.js"],"names":["pageResponse","opt","mode","obj","num","_o","ua","navigator","userAgent","wp","match","android","dw","document","documentElement","clientWidth","dh","clientHeight","ds","pw","width","ph","height","ps","pd","querySelectorAll","selectors","i","length","sm","or","origin","sn","style","webkitTransformOrigin","transformOrigin","webkitTransform","transform","body","position","left","top","msTouchAction","ontouchmove","e","preventDefault"],"mappings":"AAOA,SAASA,aAAaC,GAClB,IAwBkBC,EAAMC,EAAKC,EACrBC,EAzBJC,EAAKC,UAAUC,UACfC,EAAKH,EAAGI,MAAM,0BACdC,EAAUL,EAAGI,MAAM,+BAGnBE,EAAKC,SAASC,gBAAgBC,YAC9BC,EAAKH,SAASC,gBAAgBG,aAC9BC,EAAKN,EAAKI,EAGVG,EAAKlB,EAAImB,OAAS,IAClBC,EAAKpB,EAAIqB,QAAU,IACnBC,EAAKJ,EAAKE,EAGVG,EAAKX,SAASY,iBAAiBxB,EAAIyB,WACnCC,EAAIH,EAAGI,OAGPC,EAAK5B,EAAIC,MAAQ,OACjB4B,EAAK7B,EAAI8B,QAAU,aACnBC,EAAY,WAANH,EAAoBX,EAAKK,EAAKP,EAAKK,EAAKT,EAAKO,EAAa,SAANU,GAAkBX,EAAKK,EAAKP,EAAKK,EAAgBT,EAAKO,EAiCpH,OAASQ,GAAK,GA9BIzB,EA+BL2B,EA/BW1B,EA+BPqB,EAAGG,GA/BSvB,EA+BL4B,EA9BhB3B,OAAAA,GAAAA,EAAKF,EAAI8B,OACVb,MAAQD,EAAK,KAChBd,EAAGiB,OAASD,EAAK,KACjBhB,EAAG6B,sBAAwBJ,EAC3BzB,EAAG8B,gBAAkBL,EACrBzB,EAAG+B,gBAAkB,SAAWhC,EAAM,IACtCC,EAAGgC,UAAY,SAAWjC,EAAM,IAEpB,QAARF,GAAkBS,EAClBE,SAASyB,KAAKL,MAAMX,OAASD,EAAKjB,EAAM,KAEhC,WAARF,GAA6B,SAARA,IACrBG,EAAGkC,SAAW,WACdlC,EAAGmC,MAAQ5B,EAAKO,GAAM,EAAI,KAC1Bd,EAAGoC,KAAOzB,EAAKK,GAAM,EAAI,KACzBhB,EAAG6B,sBAAwB,kBAC3B7B,EAAG8B,gBAAkB,kBAEjB1B,EACAI,SAASyB,KAAKL,MAAMS,cAAgB,OAEpC7B,SAAS8B,YAAc,SAASC,GAC5BA,EAAEC","file":"../pageResponse.js","sourcesContent":["/* \n * 名称 ：移动端响应式框架\n * 作者 ：白树 http://peunzhang.cnblogs.com\n * 版本 ：v2.1\n * 日期 ：2015.10.13\n * 兼容 ：ios 5+、android 2.3.5+、winphone 8+\n */\nfunction pageResponse(opt) {\n    var ua = navigator.userAgent,\n        wp = ua.match(/Windows Phone ([\\d.]+)/),\n        android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/),\n\n        // 设备宽高初始比例\n        dw = document.documentElement.clientWidth,\n        dh = document.documentElement.clientHeight,\n        ds = dw / dh,\n\n        // 页面宽高初始比例\n        pw = opt.width || 320,\n        ph = opt.height || 504,\n        ps = pw / ph,\n\n        // 调用的选择器\n        pd = document.querySelectorAll(opt.selectors),\n        i = pd.length,\n\n        // 核心代码：页面缩放比例\n        sm = opt.mode || \"auto\",\n        or = opt.origin || \"left top 0\",\n        sn = (sm == \"contain\") ? (ds > ps ? dh / ph : dw / pw) : (sm == \"cover\") ? (ds < ps ? dh / ph : dw / pw) : dw / pw; \n\n    //样式模板 auto || contain || cover\n    function template(mode, obj, num) {\n        var _o = obj.style;\n        _o.width = pw + \"px\";\n        _o.height = ph + \"px\";\n        _o.webkitTransformOrigin = or;\n        _o.transformOrigin = or;\n        _o.webkitTransform = \"scale(\" + num + \")\";\n        _o.transform = \"scale(\" + num + \")\";\n        // 兼容android 2.3.5系统下body高度不自动刷新的bug\n        if (mode == \"auto\" && android) {\n            document.body.style.height = ph * num + \"px\";\n        } else\n        if (mode == \"contain\" || mode == \"cover\") {\n            _o.position = \"absolute\";\n            _o.left = (dw - pw) / 2 + \"px\";\n            _o.top = (dh - ph) / 2 + \"px\";\n            _o.webkitTransformOrigin = \"center center 0\";\n            _o.transformOrigin = \"center center 0\";\n            // 阻止默认滑屏事件\n            if (wp) {\n                document.body.style.msTouchAction = \"none\";\n            } else {\n                document.ontouchmove = function(e) {\n                    e.preventDefault()\n                }\n            }\n        }\n    }\n\n    //运行\n    while (--i >= 0) {\n        template(sm, pd[i], sn);\n    }\n}\n/*  使用方法\n *  window.onload = window.onresize = function(){\n *      pageResponse({\n *          selector : '输入类名', //模块的类名\n *          mode : 'contain',    // auto || contain || cover \n *          width : '320',     //默认宽320px \n *          height : '504',     //默认高504px\n *          origin : 'center center 0'     //缩放中心点，可选，在contain和cover模式下无效，默认为\"left top 0\"\n *      })\n *   }\n */"]}
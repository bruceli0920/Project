{"version":3,"sources":["rem.js"],"names":["dpr","rem","scale","docEl","document","documentElement","fontEl","createElement","metaEl","querySelector","window","devicePixelRatio","clientWidth","setAttribute","innerHTML","firstElementChild","appendChild","rem2px","v","parseFloat","px2rem"],"mappings":"CAAC,WACA,IAAIA,EAAKC,EAAKC,EACVC,EAAQC,SAASC,gBACjBC,EAASF,SAASG,cAAc,SAChCC,EAASJ,SAASK,cAAc,yBAcpCP,EAAQ,GATPF,GAJDA,EAAMU,OAAOC,kBAAoB,IAGtB,KAAOX,GAAOA,GAAO,GACzB,EACIA,GAAO,KAAOA,GAAOA,GAAO,GAChC,EACIA,EAAM,EACV,EAGA,GAIPC,EAAME,EAAMS,YAAcZ,EAAM,GAGhCQ,EAAOK,aAAa,UAAW,SAAWb,EAAMG,EAAMS,YAAc,kBAAoBV,EAAQ,kBAAoBA,EAAQ,kBAAoBA,EAAQ,qBAGxJC,EAAMU,aAAa,WAAYb,GAC/BM,EAAOQ,UAAY,kBAAoBb,EAAM,iBAC7CE,EAAMY,kBAAkBC,YAAYV,GAEpCI,OAAOO,OAAS,SAASC,GAExB,OADAA,EAAIC,WAAWD,IACJjB,GAEZS,OAAOU,OAAS,SAASF,GAExB,OADAA,EAAIC,WAAWD,IACJjB,GAEZS,OAAOV,IAAMA,EACbU,OAAOT,IAAMA,EAvCb","file":"../rem.js","sourcesContent":[";(function() {\n\tvar dpr, rem, scale;\n\tvar docEl = document.documentElement;\n\tvar fontEl = document.createElement('style');\n\tvar metaEl = document.querySelector('meta[name=\"viewport\"]');\n\tdpr = window.devicePixelRatio || 1;\n\t\n\t// 对于2和3的屏，用2倍的方案，其余的用1倍方案\n\tif (dpr >= 3 && (!dpr || dpr >= 3)) {\n\t\tdpr = 3;\n\t} else if (dpr >= 2 && (!dpr || dpr >= 2)) {\n\t\tdpr = 2;\n\t} else if (dpr > 1) {\n\t\tdpr = 2;\n\t} else {\n\t\t// 其他设备下，仍旧使用1倍的方案\n\t\tdpr = 1;\n\t};\n\tscale = 1 / dpr;\n\t\n\trem = docEl.clientWidth * dpr / 10;\n\t// 设置 viewpoer，进行缩放，达到高清\n\t// content=\"width=docEl.clientWidth,initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no\"\n\tmetaEl.setAttribute('content', 'width=' + dpr * docEl.clientWidth + ',initial-scale=' + scale + ',maximum-scale=' + scale + ',minimum-scale=' + scale + ',user-scalable=no')\n\t\n\t//设置data-dpr属性，留作的css hack之用\n\tdocEl.setAttribute('data-dpr', dpr);\n\tfontEl.innerHTML = 'html{font-size:' + rem + 'px!important;}';\n\tdocEl.firstElementChild.appendChild(fontEl);\n\t\n\twindow.rem2px = function(v) {\n\t\tv = parseFloat(v);\n\t\treturn v * rem;\n\t};\n\twindow.px2rem = function(v) {\n\t\tv = parseFloat(v);\n\t\treturn v / rem;\n\t}\n\twindow.dpr = dpr;\n\twindow.rem = rem;\n})();"]}
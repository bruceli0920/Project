{"version":3,"sources":["portal.js"],"names":["createDate","json","$","time","sClass","day","mon","appendTo","formatsTime","oDate","Date","setTime","getMonth","getDate","follow","dep","depList","arr","arrList","html","list","arrdep","q","push","k","i","status","code","airlineCode","iata","flt","fltNo","undefined","releaseStatus1","fltiden","identification","substring","length","oLi","iataCn","sdtTime","startAirportNameCn","terminal","destSdtTime","destAirportNameCn","color","getStateColor","find","css","background","backgroundSize","document","ready","dialogA","Dialog","init","token","sessionStorage","getItem","getUrlQueryString","setSessionValue","reverse","monthIndex","val","attr","data-code","removeClass","eq","addClass","show","each","index","this","on","hide","ajaxBase","url","success","data","console","log","hasOwnProperty","Math","floor","parents","oCont","dateStr","getFullYear","hasClass","flightNo","test","window","location","href","setValue","startStation","endStation","airLine","search","setItem","fltId"],"mappings":"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","file":"../portal.js","sourcesContent":["$(document).ready(function () {\r\n\tdialogA = Dialog.init('alert');\r\n\t// var city = getUrlQueryString('city');\r\n\t// var cityCode = getUrlQueryString('cityCode');\r\n\t// var company = getUrlQueryString('company');\r\n\t// var companyCode = getUrlQueryString('companyCode');\r\n\tvar token = sessionStorage.getItem('token') || getUrlQueryString('token');\r\n\tsetSessionValue('token', token);\r\n\tvar reverse = sessionStorage.getItem('reverse') || \"false\";\r\n\tsetSessionValue('reverse', reverse);\r\n\tvar monthIndex = sessionStorage.getItem('month') || '';\r\n\tsetSessionValue('month', monthIndex);\r\n\r\n\t// if (city) {\r\n\t// \t$('.select').val(city);\r\n\t// \t$('.select').attr({\r\n\t// \t\t'data-code': cityCode\r\n\t// \t});\r\n\t// \t$('.tab li').removeClass('active');\r\n\t// \t$('.tab li').eq(1).addClass('active');\r\n\t// \t$('.cont').removeClass('active');\r\n\t// \t$('.cont').eq(1).addClass('active');\r\n\r\n\t// }\r\n\t// if (company) {\r\n\t// \t$('.company input').val(company);\r\n\t// \t$('.company input').attr({\r\n\t// \t\t'data-code': companyCode\r\n\t// \t});\r\n\t// \t$('.company span').show();\r\n\t// \t$('.tab li').removeClass('active');\r\n\t// \t$('.tab li').eq(1).addClass('active');\r\n\t// \t$('.cont').removeClass('active');\r\n\t// \t$('.cont').eq(1).addClass('active');\r\n\t// }\r\n\tif (sessionStorage.getItem('city')) {\r\n\t\t$('.select').val(sessionStorage.getItem('city'));\r\n\t\t$('.select').attr({\r\n\t\t\t'data-code': sessionStorage.getItem('cityCode')\r\n\t\t});\r\n\t\t$('.tab li').removeClass('active');\r\n\t\t$('.tab li').eq(1).addClass('active');\r\n\t\t$('.cont').removeClass('active');\r\n\t\t$('.cont').eq(1).addClass('active');\r\n\t}\r\n\tif (sessionStorage.getItem('company')) {\r\n\t\t$('.depart input').val('重庆');\r\n\t\t$('#company').val(sessionStorage.getItem('company'));\r\n\t\t$('#company').attr({\r\n\t\t\t'data-code': sessionStorage.getItem('companyCode')\r\n\t\t});\r\n\t\t$('.company span').show();\r\n\t\t$('.tab li').removeClass('active');\r\n\t\t$('.tab li').eq(1).addClass('active');\r\n\t\t$('.cont').removeClass('active');\r\n\t\t$('.cont').eq(1).addClass('active');\r\n\t}\r\n\tif (sessionStorage.getItem('company') == \"null\") {\r\n\t\t$(\"#company\").val('');\r\n\t};\r\n\tif (sessionStorage.getItem('reverse') == \"true\") {\r\n\t\t$('.address .depart input').appendTo($('.address .dest'));\r\n\t\t$('.address .dest input').eq(0).appendTo($('.address .depart'));\r\n\t} else {};\r\n\r\n\t// console.log(\r\n\t// \tsessionStorage.getItem('city'),\r\n\t// \tsessionStorage.getItem('cityCode'),\r\n\t// \tsessionStorage.getItem('company'),\r\n\t// \tsessionStorage.getItem('companyCode'),\r\n\t// \tsessionStorage.getItem('reverse'));\r\n\t//导航页签切换\r\n\t$('.tab li').each(function (index) {\r\n\t\t$(this).on('click', function () {\r\n\t\t\t$(\".msg\").hide();\r\n\t\t\t$('.tab li').removeClass('active');\r\n\t\t\t$(this).addClass('active');\r\n\t\t\t$('.cont').removeClass('active');\r\n\t\t\t$('.cont').eq(index).addClass('active');\r\n\t\t\tif (index == 2) {\r\n\t\t\t\tvar timeJson = {\r\n\t\t\t\t\turl: 'http://10.10.11.21:8989/api/subscribe/getFollowList?token=' + token,\r\n\t\t\t\t\tsuccess: function (data) {\r\n\t\t\t\t\t\tfollow(data);\r\n\t\t\t\t\t\tconsole.log(data)\r\n\t\t\t\t\t\tconsole.log(data.hasOwnProperty(\"depList\"))\r\n\t\t\t\t\t\tif ((data.hasOwnProperty(\"depList\")==false)&&(data.hasOwnProperty(\"arrList\")==false)){ \r\n\t\t\t\t\t\t\t$(\".msg\").show();\t\t\t\t\r\n\t\t\t\t\t\t}\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tajaxBase(timeJson);\r\n\t\t\t\t$('.btn').hide();\r\n\t\t\t} else {\r\n\t\t\t\t$('.btn').show();\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\t//日期\r\n\tvar timeJson = {\r\n\t\turl: 'http://10.10.11.21:8989/api/flight/getServerTime?token=' + token,\r\n\t\tsuccess: function (data) {\r\n\t\t\tvar time = Math.floor(data.time);\r\n\t\t\tfor (var i = -1; i < 2; i++) {\r\n\t\t\t\tvar json;\r\n\t\t\t\tif (i == 0) {\r\n\t\t\t\t\tjson = formatsTime(time, 'active');\r\n\t\t\t\t\t// setSessionValue('month', '0');\r\n\t\t\t\t} else if (i == 1) {\r\n\t\t\t\t\tjson = formatsTime(time + i * 86400000, 'none');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tjson = formatsTime(time + i * 86400000, '');\r\n\t\t\t\t};\r\n\t\t\t\tcreateDate(json);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tajaxBase(timeJson, false);\r\n\t//出发到达日期切换\r\n\t$('.date .arrdep li').on('click', function () {\r\n\t\t$('.date .arrdep li').removeClass('active');\r\n\t\t$(this).addClass('active');\r\n\t});\r\n\t$('.date .time').on('click', 'li', function () {\r\n\t\tvar oParent = $(this).parents('.cont');\r\n\t\toParent.find('.date .time li').removeClass('active');\r\n\t\t$(this).addClass('active');\r\n\t\t// if ($('.date').parents('.cont').attr('class') == 'cont city active') {\r\n\t\t// \tconsole.log(1);\r\n\t\t// \tsetSessionValue('month', Number($(this).index()) - 1);\r\n\t\t// };\r\n\t});\r\n\t//切换按钮\r\n\t$('.city .address .cut').on('click', function () {\r\n\t\tif (sessionStorage.getItem('reverse') == \"false\") {\r\n\t\t\tsetSessionValue('reverse', \"true\");\r\n\t\t} else {\r\n\t\t\tsetSessionValue('reverse', \"false\");\r\n\t\t};\r\n\t\t$('.address .depart input').appendTo($('.address .dest'));\r\n\t\t$('.address .dest input').eq(0).appendTo($('.address .depart'));\r\n\t});\r\n\t//查询按钮\r\n\t$('.btn').on('click', function () {\r\n\t\tvar oCont = $('.cont.active');\r\n\t\tvar oDate = new Date();\r\n\t\tvar year = oDate.getFullYear();\r\n\t\tvar dateStr = year + '-' + oCont.find('.date .time li.active').attr('data-time');\r\n\t\tvar arrdep;\r\n\t\tif (oCont.hasClass('flight')) {\r\n\t\t\tarrdep = $('.arrdep li.active').attr('data-arrdep');\r\n\t\t\tvar flightNo = oCont.find('.flightno input').val();\r\n\t\t\tvar reg = /^(\\w{2})?[0-9]{2,4}([a-zA-Z]{1})?$/g;\r\n\t\t\tif (reg.test(flightNo) && flightNo != \"\") {\r\n\t\t\t\twindow.location.href = 'list.html?flightNo=' + flightNo + '&arrdep=' + arrdep + '&dateStr=' + dateStr + '&type=flight';\r\n\t\t\t} else {\r\n\t\t\t\tdialogA.show(); // 显示弹窗\r\n\t\t\t\tdialogA.setValue('', '请输入正确的航班号');\r\n\t\t\t\t// 请输入正确的航班号\r\n\t\t\t};\r\n\t\t} else if (oCont.hasClass('city')) {\r\n\t\t\tif ($('.address .depart input').val() == '重庆') {\r\n\t\t\t\tarrdep = 'dep';\r\n\t\t\t} else {\r\n\t\t\t\tarrdep = 'arr';\r\n\t\t\t}\r\n\t\t\tvar startStation = oCont.find('.depart input').attr('data-code');\r\n\t\t\tvar endStation = oCont.find('.dest input').attr('data-code');\r\n\t\t\tvar airLine = $('.cont .company input').attr('data-code');\r\n\t\t\twindow.location.href = 'list.html?startStation=' + startStation + '&endStation=' + endStation + '&arrdep=' + arrdep + '&dateStr=' + dateStr + '&airLine=' + airLine + '&type=city';\r\n\t\t}\r\n\t});\r\n\t//城市选择\r\n\t$('.select').on('click', function () {\r\n\t\twindow.location.href = 'city.html' + window.location.search;\r\n\t});\r\n\t$('.company input').on('click', function () {\r\n\t\twindow.location.href = 'company.html' + window.location.search;\r\n\t});\r\n\t$('.company span').on('click', function () {\r\n\t\t$('.company input').val('');\r\n\t\t$('.company input').attr({\r\n\t\t\t'data-code': ''\r\n\t\t});\r\n\t\tsessionStorage.setItem('company', null);\r\n\t\t$('.company span').hide();\r\n\t});\r\n\t// 点击跳转关注列表\r\n\t$(\".follow .list\").on('click', 'li', function () {\r\n\t\tvar fltId = $(this).attr('data-fltid');\r\n\t\tvar arrdep = $(this).attr('arrdep');\r\n\t\twindow.location.href = 'detail.html?fltId=' + fltId + '&arrdep=' + arrdep;\r\n\t});\r\n});\r\n\r\n/*\r\n *创建日期\r\n *格式化好的一组时间对象\r\n */\r\nfunction createDate(json) {\r\n\tvar oLi = $('<li data-time=' + json.time + ' class=' + json.sClass + '>' +\r\n\t\t'<p class=\"day\">' + json.day + '</p>' +\r\n\t\t'<p class=\"month\">' + json.mon + '</p></li>');\r\n\toLi.appendTo($('.cont .date .time'));\r\n}\r\n\r\nfunction formatsTime(time, sClass) {\r\n\tvar monArr = ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月',\r\n\t\t'九月', '十月', '十一月', '十二月',\r\n\t];\r\n\tvar oDate = new Date();\r\n\toDate.setTime(time);\r\n\tvar mon = oDate.getMonth();\r\n\tvar day = oDate.getDate();\r\n\treturn {\r\n\t\tmon: monArr[mon],\r\n\t\tday: day,\r\n\t\tsClass: sClass,\r\n\t\ttime: (mon + 1) + '-' + day\r\n\t};\r\n}\r\n// 获取关注列表\r\nfunction follow(json) {\r\n\tvar dep = json.depList;\r\n\tvar arr = json.arrList;\r\n\t$('.list ul').html('');\r\n\tvar list = [];\r\n\tvar str = \"<ul>\";\r\n\tvar arrdep = '';\r\n\tif (dep != null) {\r\n\t\tfor (var q in dep) {\r\n\t\t\tlist.push(dep[q])\r\n\t\t}\r\n\t};\r\n\tif (arr != null) {\r\n\t\tfor (var k in arr) {\r\n\t\t\tlist.push(arr[k])\r\n\t\t}\r\n\t};\r\n\tfor (var i in list) {\r\n\t\tcode = list[i].airlineCode || list[i].iata;\r\n\t\tflt = list[i].fltNo || '';\r\n\t\tvar status;\r\n\t\tif (list[i].releaseStatus1 == undefined) {\r\n\t\t\tstatus = '计划';\r\n\t\t} else {\r\n\t\t\tstatus = list[i].releaseStatus1;\r\n\t\t}\r\n\t\tif (list[i].airlineCode != null) {\r\n\t\t\tarrdep = 'arr';\r\n\t\t} else {\r\n\t\t\tarrdep = 'dep';\r\n\t\t};\r\n\t\tvar fltiden = list[i].identification;\r\n\t\t// TODO判断是否到达\r\n\t\tvar fltStrarr = fltiden.substring(fltiden.length - 1);\r\n\r\n\t\tif (fltStrarr == \"D\") {\r\n\t\t\tvar oLi = $('<li arrdep=' + arrdep + ' data-fltId=' + list[i].identification + '>\\\r\n\t\t\t<div class=\"title clearfix\">\\\r\n\t\t\t\t<p class=\"icon fl\"></p>\\\r\n\t\t\t\t<p class=\"fl name\">' + list[i].iataCn + code + flt + '</p>\\\r\n\t\t\t</div>\\\r\n\t\t\t<div class=\"detail clearfix\">\\\r\n\t\t\t\t<div class=\"fl\">\\\r\n\t\t\t\t\t<p class=\"time\">' + list[i].sdtTime + '</p>\\\r\n\t\t\t\t\t<p class=\"city\">' + list[i].startAirportNameCn + '<span class=\"ter1\">' + list[i].terminal + '</span>' + '</p>\\\r\n\t\t\t\t</div>\\\r\n\t\t\t\t<p class=\"status fl\">' + status + '</p>\\\r\n\t\t\t\t<div class=\"fl\">\\\r\n\t\t\t\t\t<p class=\"time\">' + list[i].destSdtTime + '</p>\\\r\n\t\t\t\t\t<p class=\"city\">' + list[i].destAirportNameCn + '</p>\\\r\n\t\t\t\t</div>\\\r\n\t\t\t</div>\\\r\n\t\t</li>');\r\n\t\t} else { \r\n\t\t\tvar oLi = $('<li arrdep=' + arrdep + ' data-fltId=' + list[i].identification + '>\\\r\n\t\t\t<div class=\"title clearfix\">\\\r\n\t\t\t\t<p class=\"icon fl\"></p>\\\r\n\t\t\t\t<p class=\"fl name\">' + list[i].iataCn + code + flt + '</p>\\\r\n\t\t\t</div>\\\r\n\t\t\t<div class=\"detail clearfix\">\\\r\n\t\t\t\t<div class=\"fl\">\\\r\n\t\t\t\t\t<p class=\"time\">' + list[i].sdtTime + '</p>\\\r\n\t\t\t\t\t<p class=\"city\">' + list[i].startAirportNameCn + '</p>\\\r\n\t\t\t\t</div>\\\r\n\t\t\t\t<p class=\"status fl\">' + status + '</p>\\\r\n\t\t\t\t<div class=\"fl\">\\\r\n\t\t\t\t\t<p class=\"time\">' + list[i].destSdtTime + '</p>\\\r\n\t\t\t\t\t<p class=\"city\">' + list[i].destAirportNameCn + '<span class=\"ter2\">' + list[i].terminal + '</span>'+ '</p>\\\r\n\t\t\t\t</div>\\\r\n\t\t\t</div>\\\r\n\t\t</li>');\r\n\t\t}\r\n\t\r\n\t\t\r\n\t\toLi.appendTo($('.list ul'));\r\n\t\tvar color = getStateColor(status);\r\n\t\toLi.find('.status').css({\r\n\t\t\tcolor: color\r\n\t\t});\r\n\t\toLi.find('.title .icon').css({\r\n\t\t\t'background': 'url(images/' + code + '.gif) no-repeat',\r\n\t\t\t'backgroundSize': 'contain'\r\n\t\t});\t\r\n\t};\r\n}"]}
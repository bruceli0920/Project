function createList(t,e){var i,a,n="";0==e?(i=$(".cont").eq(0),a=$(".letter").eq(0)):1==e&&(i=$(".cont").eq(1),a=$(".letter").eq(1));for(var o in t){var s=t[o];n+="<li id="+o+">"+o+"</li>",$("<dt id="+o+">"+o+"</dt>").appendTo(i.find("dl"));for(var c=0;c<s.length;c++){var l=s[c];$("<dd data-code="+l.airlineCode+">"+l.nameCn+"</dd>").appendTo(i.find("dl"))}}a.find("ul").html(n)}function setCompany(t){var e=sessionStorage.getItem("city"),i=sessionStorage.getItem("cityCode");e?(setSessionValue("city",e),setSessionValue("cityCode",i),setSessionValue("company",t.html()),setSessionValue("companyCode",t.attr("data-code"))):(setSessionValue("company",t.html()),setSessionValue("companyCode",t.attr("data-code"))),window.location.href="portal.html"}$(document).ready(function(){var t,e,i=sessionStorage.getItem("token");ajaxBase({url:"http://10.10.11.21:8989/api/flight/getAirLines?token="+i,success:function(i){t=i.国外,createList(e=i.国内,0),createList(t,1)}},!1),ajaxBase({url:"http://10.10.11.21:8989/api/flight/getSearchHotAirline?token="+i,success:function(t){createHotList(t)}},!1),$(".tab li").each(function(t){$(this).on("click",function(){$(".tab li").removeClass("active"),$(this).addClass("active"),$(".cont").removeClass("active"),$(".cont").eq(t).addClass("active")})}),$(".cont dl").on("click","dd",function(){setCompany($(this))}),$(".hot").on("click","li",function(){setCompany($(this))});var a=$(".m-header").height();$(".letter").each(function(t){$(this).on("click","li",function(){var e=$(this).index();$("html,body").stop().animate({scrollTop:$(".list").eq(t).find("dt").eq(e).offset().top-a},800)})}),$(".search input").on("input",function(){var i=$(this).val().toUpperCase();i?$(".letter").hide():$(".letter").show();var a=search(i,e);$(".cont").eq(0).find("dl").empty(),isEmptyObject(a)||createList(a,0);var n=search(i,t);$(".cont").eq(1).find("dl").empty(),isEmptyObject(n)||createList(n,1)})});
//# sourceMappingURL=maps/company.js.map

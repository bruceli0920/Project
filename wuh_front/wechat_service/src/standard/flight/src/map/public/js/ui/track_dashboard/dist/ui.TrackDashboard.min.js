(function(h){function f(a){c=a;var b=e[a],d=window.hashDirection,f=Math.round(b.distance/1E3);m.html('\n                \x3cdiv class\x3d"dashboardList_item"\x3e\n                    \x3cdiv\x3e\n                        \x3cimg src\x3d"'+d[b.action][0]+'" alt\x3d"" /\x3e\n                    \x3c/div\x3e\n                    \x3cdiv style\x3d"text-align: left;"\x3e\n                        \x3cspan\x3e\u6b65\u884c '+f+" \u7c73\u540e\x3c/span\x3e\n                        \x3cbr\x3e\n                        \x3cspan\x3e\u5728 "+b.poi_name+" \u5904"+d[b.action][1]+"\x3c/span\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n         ");n.text(a+1+"/"+e.length);b=c===e.length-1?"track_arrow off":"track_arrow on";k.html('\x3ci class\x3d"'+(0===c?"track_arrow off rot180":"track_arrow on rot180")+'"\x3e\x3c/i\x3e');l.html('\x3ci class\x3d"'+b+'"\x3e\x3c/i\x3e');b=0===a?g[0]:e[a-1];a=e[a];b.floor!==a.floor&&(b=g.indexOf(a),b=g[b-1]);Rtmap.TrackFactory.drawCTrackLine(b,a,a.floor)}var e=void 0,g=void 0,d=$('\n        \x3cdiv class\x3d"track_dashboard"\x3e\n          \x3cdiv class\x3d"pull_up_info_list"\x3e\n            \x3cimg src\x3d"./public/img/info_list_pull_down.png" alt\x3d"" /\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d"track_dashboard_content"\x3e\n            \x3cdiv class\x3d"numberofinstruction"\x3e1/1\x3c/div\x3e\n            \x3cdiv class\x3d"leftinstruction "\x3e\n              \x3cspan class\x3d"track_arrow off rot180"\x3e\x3c/span\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"dashboardList"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"rightinstruction "\x3e\n              \x3cspan class\x3d"track_arrow off"\x3e\x3c/span\x3e\n            \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e\n'),p=d.find(".pull_up_info_list"),k=d.find(".leftinstruction"),l=d.find(".rightinstruction"),m=d.find(".dashboardList"),n=d.find(".numberofinstruction"),c=0;h.TrackDashboard={show:function(a){h.controllerHelper.up("TrackDashboard");c=0;$("body").append(d);g=a.pointlist;e=g.filter(function(a){return"true"===a.important});f(c);k.on("click",function(){if(0===c)return!1;accessLogAppender("opt_navi_detail",Page.URL.getParameter("key"));f(--c)});l.on("click",function(){if(c===e.length-1)return!1;accessLogAppender("opt_navi_detail",Page.URL.getParameter("key"));f(++c)});p.on("click",function(){accessLogAppender("opt_navi_detail",Page.URL.getParameter("key"));createDetailPage({index:c})})},close:function(){d.remove()},render:function(a){f(a)}}})(window.Page);
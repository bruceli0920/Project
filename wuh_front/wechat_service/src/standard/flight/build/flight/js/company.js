function createList(t,e){var i,a,o="";0==e?(i=$(".cont").eq(0),a=$(".letter").eq(0)):1==e&&(i=$(".cont").eq(1),a=$(".letter").eq(1));for(var n in t){var s=t[n],c=$("<dt id="+n+">"+n+"</dt>");o+="<li id="+n+">"+n+"</li>",c.appendTo(i.find("dl"));for(var r=0;r<s.length;r++){var l=s[r];$("<dd data-code="+l.airlineCode+">"+l.nameCn+"</dd>").appendTo(i.find("dl"))}}a.find("ul").html(o)}function setCompany(t){var e=sessionStorage.getItem("city"),i=sessionStorage.getItem("cityCode");e?(setSessionValue("city",e),setSessionValue("cityCode",i),setSessionValue("company",t.html()),setSessionValue("companyCode",t.attr("data-code"))):(setSessionValue("company",t.html()),setSessionValue("companyCode",t.attr("data-code"))),window.location.href="portal.html"}$(document).ready(function(){var t,e,i=sessionStorage.getItem("token"),a={url:"http://airtest.rtmap.com/service-api/flight/getAirLines?token="+i,success:function(i){t=i.国外,e=i.国内,createList(e,0),createList(t,1)}};ajaxBase(a,!1);var o={url:"http://airtest.rtmap.com/service-api/flight/getSearchHotAirline?token="+i,success:function(t){createHotList(t)}};ajaxBase(o,!1),$(".tab li").each(function(t){$(this).on("click",function(){$(".tab li").removeClass("active"),$(this).addClass("active"),$(".cont").removeClass("active"),$(".cont").eq(t).addClass("active")})}),$(".cont dl").on("click","dd",function(){setCompany($(this))}),$(".hot").on("click","li",function(){setCompany($(this))});var n=$(".m-header").height();$(".letter").each(function(t){$(this).on("click","li",function(){var e=$(this).index();$("html,body").stop().animate({scrollTop:$(".list").eq(t).find("dt").eq(e).offset().top-n},800)})}),$(".search input").on("input",function(){var i=$(this).val().toUpperCase();i?$(".letter").hide():$(".letter").show();var a=search(i,e);$(".cont").eq(0).find("dl").empty(),isEmptyObject(a)||createList(a,0);var o=search(i,t);$(".cont").eq(1).find("dl").empty(),isEmptyObject(o)||createList(o,1)})});
//# sourceMappingURL=maps/company.js.map

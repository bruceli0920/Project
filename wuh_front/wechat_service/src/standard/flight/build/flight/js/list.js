function createList(t){for(var e=0;e<t.length;e++){var i,a=t[e];i=void 0==a.releaseStatus1?"计划":a.releaseStatus1;var r;void 0!=a.iata?r=a.iata:void 0!=a.airlineCode&&(r=a.airlineCode);var s=$("<li data-fltId="+a.identification+'><div class="title clearfix"><i class="icon fl"></i><p class="fl">'+a.iataCn+r+a.fltNo+'</p></div><div class="detail clearfix"><div class="fl"><p class="time">'+a.sdtTime+'</p><p class="city">'+a.startAirportNameCn+'</p></div><p class="status fl">'+i+'</p><div class="fl"><p class="time">'+a.destSdtTime+'</p><p class="city">'+a.destAirportNameCn+'</p></div></div><div class="view">查看详情</div></li>');s.appendTo($(".list ul"));var l=getStateColor(i);s.find(".status").css({color:l}),s.find(".title .icon").css({background:"url(images/"+r+".gif) no-repeat",backgroundSize:"contain"})}}$(document).ready(function(){var t=!0,e=getUrlQueryString("type"),i=getUrlQueryString("arrdep"),a=getUrlQueryString("dateStr"),r=sessionStorage.getItem("token"),s={},l={};if("flight"==e){s={url:"http://airtest.rtmap.com/service-api/flight/selectByFlightNoAndDate?token="+r,data:{flightNo:getUrlQueryString("flightNo"),date:a,arrOrDep:i},success:function(e){e&&0!=e.length?(t=!0,createList(e)):($(".msg").hide(),$(".msg.none").show())}},ajaxBase(s,!1)}else if("city"==e){var n=getUrlQueryString("startStation"),o=getUrlQueryString("endStation"),c=getUrlQueryString("airLine");l={url:"http://airtest.rtmap.com/service-api/flight/selectByStationAndDate?token="+r,data:{startStation:n,endStation:o,date:a,arrOrDep:i,pageNum:1,pageCount:10,airLine:c},success:function(e){e&&0!=e.length?(t=!0,createList(e.rst),(e.lastPage||0==e.rst.length)&&(t=!1,$(".msg").hide(),$(".msg.none").show())):($(".msg").hide(),$(".msg.none").show())}},ajaxBase(l,!1)}$(".list ul").on("click","li",function(){var t=$(this).attr("data-fltId");window.location.href="detail.html?fltId="+t+"&arrdep="+i});var d=$(".list");$(".list ul");$(document).scroll(function(){var i=$(document).scrollTop(),a=document.documentElement?document.documentElement.clientHeight:document.body.clientHeight,r=d.outerHeight();$(".tab li");i+a+100>=r&&i>100&&t&&(t=!1,"city"==e&&(l.data.pageNum++,ajaxBase(l,!1)))})});
//# sourceMappingURL=maps/list.js.map
